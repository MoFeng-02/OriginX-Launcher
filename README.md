# OriginX-Launcher

## 项目简介
OriginX-Launcher 是一款基于 Avalonia 框架开发的第三方 Minecraft 启动器，旨在为玩家提供轻量、可定制的 Minecraft 启动体验。目前仅完成登录功能，后续将按优先级逐步实现 Java 环境适配、版本管理、启动核心等功能，全程聚焦“稳定可用→体验优化”的开发思路。

## 功能状态概览
- ✅ 已实现：登录功能（微软账号+离线账号）
- ⭕ 待实现：Java 环境管理、游戏版本管理、启动配置、游戏启动等（按开发计划推进）

## 详细功能清单（按开发优先级排序，子功能先核心后优化）

### 1. 登录功能 ✅（已完成，后续仅维护bug）
- [✓] 微软账号 OAuth 登录（官方 API 验证）
- [✓] 离线账号创建（本地存储，无需网络）
- [✓] 登录状态持久化（本地加密存储）
- [✓] 登录失败提示（网络/账号密码错误等场景）

### 2. Java 环境管理 ⭕（第一阶段核心开发，解决运行依赖）
- [✓] 自动检测本地 Java 版本（识别 JRE/JDK、版本号、路径、位数）
- [○] Java 路径手动配置（浏览选择本地 Java 可执行文件）
- [✓] Java 环境有效性检测（启动前检查路径是否存在、可运行）
- [○] 自动推荐适配游戏版本的 Java 版本（1.17+→Java16+ 等）
- [○] 多 Java 版本管理（保存多个路径，自动匹配/手动切换）
- [○] Java 版本一键下载（对接 Adoptium 官方源，避免 Oracle 授权问题）
- [○] Java 性能参数预设（-Xmx、-Xms 等 JVM 参数模板）

### 3. 游戏版本管理 ⭕（第一阶段核心开发，解决“玩什么版本”）
- [✓] 版本列表展示（官方正式版、快照版、forge/fabric/quilt 版本）
- [✓] 版本自动下载（游戏核心、依赖库、资产文件，支持断点续传）
- [○] 版本切换（选择启动目标版本）
- [○] 版本手动安装（导入本地 .minecraft/versions 目录）
- [○] 版本卸载功能（删除本地版本文件，可选保留配置，如存档截图等等）
- [○] 版本搜索与筛选（按版本号/发布时间/类型过滤）
- [○] 版本详情查看（发布日期、更新日志、适配 Java 版本）

### 4. 启动配置 ⭕（第二阶段开发，对接启动核心）
- [○] 内存分配设置（最小/最大内存，自动推荐配置）
- [○] 启动参数自定义（JVM 参数+游戏启动参数，与 Java 环境联动）
- [○] 窗口设置（全屏/窗口化、分辨率预设/自定义）
- [○] 启动模式选择（普通启动、调试模式）
- [○] 启动前清理选项（清理缓存/临时文件，解决启动异常）
- [○] 记住上次配置（窗口大小、启动参数等）

### 5. 游戏启动 ⭕（第二阶段核心开发，实现“能玩”）
- [○] 启动前环境检查（Java 有效性、版本文件完整性、内存充足性）
- [○] 核心启动逻辑（调用 Minecraft 主类，传递 Java 路径/内存/参数）
- [○] 启动日志实时输出（显示加载进度、错误信息）
- [○] 游戏崩溃捕获与处理（区分 Java 错误/版本损坏/mod 冲突，给修复建议）
- [○] 启动日志保存（方便排查问题）
- [○] 启动成功率统计与优化

### 6. 资源管理 ⭕（第三阶段开发，提升“玩得爽”）
- [○] 模组（Mod）管理
  - 按版本匹配筛选 mod，显示名称/版本/作者/描述
  - mod 启用/禁用、拖拽排序（解决加载冲突）
  - mod 依赖检测（提示缺失前置 mod/不兼容版本）
  - 导入/导出 mod 列表配置
- [○] 材质包管理（添加/删除/启用/禁用，预览效果，按版本筛选兼容材质）
- [○] 光影包管理（适配 OptiFine/IRIS，预览效果，调节强度）
- [○] 资源包自动适配检测（提示不兼容，给升级建议）

### 7. 账号管理 ⭕（第三阶段开发，优化多账号体验）
- [○] 多账号列表展示（头像、昵称、登录状态）
- [○] 账号快速切换（一键切换，无需重复登录）
- [○] 账号信息编辑（离线账号昵称/头像修改，微软账号同步官方头像）
- [○] 账号注销/移除（可选保留存档）
- [○] 账号安全设置（微软账号重新验证、离线账号密码修改）

### 8. 游戏存档管理 ⭕（第四阶段开发，完善数据管理）
- [○] 存档列表展示（名称、创建/修改时间、对应游戏版本）
- [○] 存档备份/恢复/删除/重命名（支持批量操作）
- [○] 存档导入/导出（.zip 格式）
- [○] 存档预览（显示缩略图，生成最新预览）
- [○] 存档云同步（可选，多设备同步）

### 9. 服务器管理 ⭕（第四阶段开发，完善联机体验）
- [○] 服务器列表（添加/删除/编辑地址/端口/名称）
- [○] 一键加入服务器（启动游戏直接连接）
- [○] 服务器状态检测（在线人数、延迟、版本兼容性）
- [○] 服务器分组（自定义分组名称）
- [○] 服务器历史记录（快速重新连接）

### 10. 界面与交互优化 ⭕（贯穿全开发周期，逐步迭代）
- [○] 主题系统（亮色/暗色/跟随系统，自定义主题色）
- [○] 响应式布局（适配不同分辨率/窗口大小）
- [○] 首次使用引导（Java 配置、版本下载、登录指引）
- [○] 动画与过渡效果（页面切换、加载动画）
- [○] 自定义快捷操作栏（隐藏/显示功能模块）

### 11. 其他功能 ⭕（最后阶段补充，提升完整性）
- [○] 启动器自动更新（检查版本、下载安装，支持选择更新渠道）
- [○] 游戏截图管理（查看/删除/导出截图）
- [○] 多语言支持（中英文默认，导入语言包）
- [○] 错误反馈机制（一键提交崩溃日志，含 Java/版本信息）
- [○] 缓存管理（手动清理/自动清理周期）
- [○] 启动器配置备份（导出/导入配置，避免重装丢失）
- [ - ] 云同步（同步配置、账号、资源包列表）（待定方案，可能放弃此方案）

## 开发环境（固定配置，避免版本冲突）
- 框架：.NET 9.0+
- UI 框架：Avalonia 11.0+
- 开发工具：Visual Studio 2022 / Rider
- 核心依赖：
  - `Avalonia.Controls`（基础 UI 控件）
  - `SukiUI`（开源 UI 库，优化界面）
  - `System.Text.Json`（数据序列化，适配 AOT）
  - `MFToolkit.Minecraft`（游戏启动核心逻辑，项目位于：MFToolkit/src/Minecraft下）

## 使用说明（当前版本）
1. 源码编译：克隆仓库 → 打开项目 → 还原 NuGet 依赖 → 编译运行
2. 登录操作：
   - 微软账号：点击「微软登录」→ 浏览器验证完成后返回启动器
   - 离线账号：输入昵称 → 点击「离线登录」（无需网络）
3. 注意：当前仅能登录，需等待后续版本实现启动功能后才能进入游戏

## 开发计划（按阶段推进，每个阶段完成后可测试使用）
### 第一阶段：基础依赖实现
- 目标：解决“能运行”的核心依赖
- 任务：完成「Java 环境管理」+「游戏版本管理」核心子功能
- 可测试：启动后能下载游戏版本、配置 Java 环境

### 第二阶段：核心启动实现
- 目标：实现“能玩游戏”
- 任务：完成「启动配置」+「游戏启动」核心子功能
- 可测试：选择版本→配置参数→启动游戏，正常进入存档/服务器

### 第三阶段：体验优化
- 目标：提升“玩得爽”
- 任务：完成「资源管理」+「账号管理」+ 界面基础优化
- 可测试：加载 mod/材质包、多账号切换、主题切换

### 第四阶段：功能完善
- 目标：补全剩余功能，优化稳定性
- 任务：完成「存档管理」+「服务器管理」+ 其他补充功能
- 可测试：存档备份、服务器联机、启动器自动更新

### 后续维护：
- 修复已知 bug
- 响应用户反馈，优化细节
- 适配 Minecraft 新版本、Avalonia 框架更新

欢迎提交 Issue 或 PR 参与开发，有任何开发疑问都可以随时提呀～